跨文档消息传递（XDM）:在来自不同域的页面间传递消息。

核心：`postMessage()`方法
- 向包含在当前页面中的`<iframe>`或当前页面弹出的窗口传递消息
- 两个参数
    - 一条消息
    - 表示消息接收方来自哪个域的字符串(重要，可以防止浏览器把消息发到不安全的地方)

接收到XDM消息时，会触发window对象的message事件，这个事件是异步触发的，所以发送和接受消息可能有延迟。

传递给onmessage事件处理程序的三个消息：
- data：`postMessage()`第一个参数传入的字符串数据
- origin：发送消息的文档所在的域
- source：发送消息的文档的window对象的代理

接收到消息后验证发送窗口的来源是至关重要的，在onmessage中要利用origin属性来验证消息来自已知的页面。

------------------------------------------------------------------------------------------------

原生拖放：

拖放事件：拖放时，依次触发以下事件，目标是被拖动的元素
- `dragstart`
- `drag`：与`mousemove`相似，鼠标移动过程中，`mousemove`事件也会一直触发
- `dragend`

元素被拖到一个有效的放置目标时，下列事件依次触发：
- `dragenter`
- `dragover`
- `dragleave`或`drop`

dataTransfer对象：为了在拖放操作时实现数据交换
- 事件对象的一个属性，用于从被拖动元素向放置目标传递字符串格式的数据
- 两个主要方法
    - `getData()`：取得由`setData()`保存的值，一个参数，字符串，表示数据类型，为text或URL
    - `setData()`：第一个参数，字符串，表示数据类型，为text或URL
- 保存在dataTransfer中的数据只能在drop事件处理阶段读取

什么是MIME？

可拖动：在h5的元素上设置`draggable = true`

------------------------------------------------------------------------------------------------
历史状态管理：

HTML5通过更新history对象来管理历史状态。

hashchange事件

`history.pushState()`:
- 三个参数：状态对象、新状态的标题，可选的相对URL
- 执行后，新的状态信息就会被加入历史状态栈，浏览器的地址栏也会变成新的相对URL，但是浏览器不会真的向服务器发起请求，此时，后退按钮可以使用了

`history.replaceState()`:
- 与`history.pushState()`前两个按参数相同
- 不会在历史状态栈中创建新状态，只会重写当前状态