# 本章内容

- 使用对象
- 创建并操作数组
- 理解基本的javascript类型
- 使用基本类型和基本包装类型
	
引用类型的值（对象）是引用类型的一个实例。在ECMAScript中，引用类型是一种数据结构。引用类型有时也被称为对象定义，因为他们描述的是一类对象所具有的属性和方法。
	
如上所说，对象是某个特定引用类型的实例。新对象是用new操作符后跟一个构造函数来创建的。
	
## object类型

创建object实例的方式有两种。第一种是使用new操作符后跟object构造函数，如下所示：

```
var person = new Object();
person.name = "Nicholas";
person.age = 29;
```
另一种方式是使用**对象字面量**表示法。`{`是对象字面量的开始，例如：

```
person = {
    name : "Nicholas";
    age : 29;
}
```

使用对象字面量语法时，如果留空其花括号，则可以定义只包括默认属性和方法的对象，如下：

```JavaScript
var person = {};  // 同new object（）
person.name = "lihua";
person.age = 29
```

> 通过对象字面量定义对象时，实际上不会调用Object构造函数。
> 开发人员更倾向于对象字面量语法

在JavaScript中也可以通过方括号来访问对象的属性。使用`[]`时，应该将要访问的属性以字符串的形式放在方括号中，如下例所示：

```JavaScript
alert(person["name"])
alert(person.name)
```
> 方括号语法的主要优点是，可以通过变量来访问属性。
> 如果属性名中，会包含导致语法错误的字符，或者属性名使用的是关键字或保留字，也可以使用方括号表示法。
> 除非必须使用变量来访问属性，否则推荐使用点表示法。

## Array

- ECMAScript数组的每一项可以保存任何类型的数据。
- ECMAScript的数组大小是可以动态调整的。

### 创建数组的基本方式

- 使用array构造函数

```JavaScript
var colors = new Array(20)
var colors = new Array("red", "yellow", "blue")
var colors = new Array(20)
```
> 可以给构造函数传递数量，数量会自动变成length属性的值。

> 也可以向构造函数中传递数组中应该包含的项。

> 另外，构造函数可以省略new操作符

- 数组字面量表示法

```JavaScript
var colors = ["red", "yellow", "blue"]
var colors = []  // 空数组
var colors = [1,2,] // 不要这样，会创建包含2或3项的数组
var colors = [,,,,,] // 不要这样，会创建包含5或6项的数组
```

> 与对象字面量一样，使用数组字面量时也不会调用Array构造函数。

```JavaScript
var colors = ["red", "yellow", "blue"]
colors[3] = "pink"
```

> 若是设置的索引超过了数组现有项数，数组会自动添加到该索引值+1的长度，如上代码。

> 数组的length属性，不是只读的，通过这个属性，可以从数组的末尾移除项或向数组中添加新项，被移除/添加的项将为`undefined`。

### 检测数组

- 对于一个网页或全局作用域，使用`instanceof`可以满足判断array类型的需求。

```javascript
if (value instanceof Array) {

}
```

> instanceof存在的问题：它假定只存在一个全局执行环境。如果从一个框架向另一个框架传入一个数组，那么传入的数组与在第二个框架中原生创建的数组分别具有各自不同的构造函数。

- `Array.isArray()`方法： 最终确定这个值到底是不是数组。

### 转换方法

每个对象都具有`toLocalString()`, `toString()`, `valueOf`方法。

- `valueOf`： 返回的还是数组本身。
- `toString()`： 返回由数组中每个值的字符串形式拼接而成的一个以逗号分隔的字符串。
- `alert(array)`：alert接受字符串参数，所以在后台调用`toString()`方法，由此与`toString()`的结果相同。
- `join()`： 使用不同的分隔符创建这个字符串。

### 栈方法

ECMAScript为数组专门提供了`push()`和`pop()`方法，以便实现类似栈的行为。

- `push()`方法可以接收任意数量的参数，把它们逐个添加到数组末尾，并返回修改后的值。
- `pop()`方法则从数组末尾移除最后一项，减少数组的length值，然后返回移除的项。

### 队列方法

- `shift()`：它能够移除数组中的第一个项并返回该项，同时数组长度减1；
- `unshift()`：它能在数组前端添加任意个项并返回新数组的长度。

### 重排序方法

- `reverse()`：反转数组项的顺序。
-  `sort()`：
    - 默认情况下，`sort()`方法按升序排列数组项，`sort()`会调用每个数组项的`toString()`转型方法，然后比较得到的字符串，确定如何排序。
    - `sort()`可以接受一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面。
